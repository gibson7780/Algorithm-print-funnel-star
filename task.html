<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style>
      p {
        margin: 0;
      }
      #print {
        padding: 10px;
      }
    </style>
  </head>
  <body>
    <label>請輸入大於0的奇數</label>
    <input id="input" type="number" min="0" />
    <button id="button">確認</button>
    <p>output:</p>
    <div id="print"></div>
    <script>
      const input = document.getElementById('input');
      const button = document.getElementById('button');
      const printElem = document.getElementById('print');

      const printStar = () => {
        const number = parseInt(input.value, 10);
        console.log('number', number);
        let html = '';
        // solution1
        // const calc1 = (number) => {
        //   if (number % 2 !== 1 || number < 0) {
        //     alert('請輸入大於0的奇數');
        //   } else {
        //     for (let i = number; i > -number; i = i - 2) {
        //       let restI = i < 1 ? i * -1 + 2 : i;
        //       const spaceTimes = (number - Math.abs(restI)) / 2;
        //       html += `<p>`;
        //       for (let j = 0; j < Math.abs(restI) + spaceTimes; j++) {
        //         if (j < spaceTimes) {
        //           html += '&nbsp&nbsp';
        //         } else {
        //           html += '*';
        //         }
        //       }
        //       html += `</p>`;
        //     }
        //   }
        //   console.log('html', html);
        //   return html;
        // };

        // solution2
        const calc2 = (number) => {
          if (number % 2 !== 1 || number < 0) {
            alert('請輸入大於0的奇數');
          } else {
            for (let i = number; i > -number; i -= 2) {
              let newI = Math.abs(i);
              const newParam = i < 1 ? newI + 2 : newI;
              const spaceCounts =
                (i < 1 ? number - newI - 2 : number - newI) / 2;
              const starArr = Array(newParam).fill('*');
              const spaceArr = Array(spaceCounts).fill('&nbsp&nbsp');
              const concatString = [...spaceArr, ...starArr].join('');
              html += `<p>`;
              html += concatString;
              html += `</p>`;
            }
          }
          return html;
        };
        const finalHtml = calc2(number);

        printElem.innerHTML = finalHtml;
      };
      button.addEventListener('click', printStar);
    </script>
  </body>
</html>
